{% extends 'base.html' %} {% load static %} {% block content %}

<!-- Main Section -->
<main class="formPage my-xl">
  <div class="content-box">
    <div class="formWrapper">
      <a class="backButton" href="{% url 'profile-page' %}">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          viewBox="0 0 24 24"
        >
          <path
            d="M16.67 0l2.83 2.829-9.339 9.175 9.339 9.167-2.83 2.829-12.17-11.996z"
          />
        </svg>
      </a>
      <br />

      <form class="form" method="POST" enctype="multipart/form-data">
        {% csrf_token %} 
        {% for field in form %}
        <!-- Input:Text -->
        <div class="form__field">
          <label for="formInput#text">{{ field.label }}: </label>
          {{ field }}
        </div>

        {% endfor %}

        <div class="form__field">
          <label for="formInput#text">Tags: </label>
          <textarea
            class="input"
            name="newtags"
            placeholder="Add tags here..."
          ></textarea>
        </div>
        <div class="form__field">
          {% for tag in project.tags.all %}
          <div class="project-tag tag tag--pill tag--main" data-tag="{{tag.id}}"  data-project="{{project.id}}">
            {{ tag.name }} &#215;
          </div>
          {% endfor %}
        </div>

        <input
          class="btn btn--sub btn--lg my-md"
          type="submit"
          value="Submit"
        />
      </form>
    </div>
  </div>
</main>

<script>

  let tags = document.getElementByClassName('project-tag')

  for (let i=0; tags.length > i; i++){
    tag[i].addEventListener('click', (e)=>{
      let tagId = e.target.dataset.tag
      let projectId = e.target.dataset.project
    })
  }
</script>

{% endblock content %}
